{% extends 'wardrobe/base.html' %}

{% block title %}Главная - GoodChoice{% endblock %}

{% block content %}
<div class="row">
    <!-- Левая колонка: Недавно добавленные вещи и образы -->
    <div class="col-lg-8">
        <h1 class="mb-4">Добро пожаловать в GoodChoice!</h1>
        <p class="lead">Ваш персональный виртуальный гардероб, который помнит все вещи и подбирает идеальные образы.</p>
        
        <!-- Недавно добавленные вещи -->
        {% if recent_items %}
        <div class="row mt-5">
            <div class="col-12">
                <h3 class="mb-4"><i class="bi bi-clock-history"></i> Недавно добавленные вещи</h3>
                <div class="row">
                    {% for item in recent_items %}
                        {% include 'wardrobe/item_card.html' with item=item col_size='3' %}
                    {% endfor %}
                </div>
                {% if total_items > 4 %}
                <div class="text-center mt-3">
                    <a href="{% url 'wardrobe:wardrobe_list' %}" class="btn btn-outline-primary">
                        <i class="bi bi-arrow-right"></i> Посмотреть все вещи ({{ total_items }})
                    </a>
                </div>
                {% endif %}
            </div>
        </div>
        {% endif %}

        <!-- Недавно добавленные образы -->
        {% if recent_outfits %}
        <div class="row mt-4">
            <div class="col-12">
                <h3 class="mb-4"><i class="bi bi-stars"></i> Недавно созданные образы</h3>
                <div class="row">
                    {% for outfit in recent_outfits %}
                        {% include 'wardrobe/outfit_card.html' with item=item col_size='3' %}
                    {% endfor %}
                </div>
                {% if total_items > 4 %}
                <div class="text-center mt-3">
                    <a href="{% url 'wardrobe:outfit_list' %}" class="btn btn-outline-primary">
                        <i class="bi bi-arrow-right"></i> Посмотреть все образы ({{ total_outfits }})
                    </a>
                </div>
                {% endif %}
            </div>
        </div>
        {% endif %}
    </div>
    
    <!-- Правая колонка: Быстрые действия и статистика -->
    <div class="col-lg-4">
        <!-- Упрощенные быстрые действия -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="mb-0"><i class="bi bi-lightning"></i> Быстрые действия</h5>
            </div>
            <div class="card-body">
                <div class="d-grid gap-3">
                    <a href="{% url 'wardrobe:add_item' %}" class="btn btn-primary btn-lg fs-6">
                        <i class="bi bi-plus-circle me-2"></i> Добавить вещь
                    </a>
                    
                    <a href="{% url 'wardrobe:create_outfit' %}" class="btn btn-primary btn-lg fs-6">
                        <i class="bi bi-stars me-2"></i> Создать образ
                    </a>
                    
                    <a href="{% url 'wardrobe:wardrobe_list' %}" class="btn btn-primary btn-lg fs-6">
                        <i class="bi bi-search me-2"></i> Найти вещи
                    </a>
                    
                    <a href="{% url 'wardrobe:outfit_list' %}" class="btn btn-primary btn-lg fs-6">
                        <i class="bi bi-collection me-2"></i> Мои образы
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Статистика -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="mb-0"><i class="bi bi-graph-up"></i> Статистика гардероба</h5>
            </div>
            <div class="card-body">
                <div class="d-flex justify-content-between mb-3">
                    <span>Всего вещей:</span>
                    <strong class="text-primary">{{ total_items }}</strong>
                </div>
                <div class="d-flex justify-content-between mb-3">
                    <span>Всего образов:</span>
                    <strong class="text-primary">{{ total_outfits }}</strong>
                </div>
                <div class="d-grid gap-2">
                    <a href="{% url 'wardrobe:analytics' %}" class="btn btn-outline-primary">
                        <i class="bi bi-graph-up"></i> Аналитика
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}