# Техническое задание на проект: «Подбор образов одежды»

## 1. Цель проекта

Создание веб-приложения для управления личным гардеробом и автоматического подбора образов одежды.  
Сервис помогает пользователю организовать свой гардероб и анализировать его.

Проект решает проблему подбора гармоничных сочетаний одежды из имеющегося гардероба и позволяет пользователю принимать решения на основе накопленной статистики.


## 2. Роли пользователей

**Гость**
- просмотр главной страницы;
- регистрация и авторизация в системе.

**Авторизованный пользователь**
- добавление и удаление вещей гардероба;
- создание и удаление образов из имеющихся вещей;
- генерация образов одежды;
- оценка сгенерированных образов;
- просмотр аналитики и статистики.

**Администратор**
- управление данными через административную панель Django;
- просмотр и редактирование моделей системы.


## 3. Модели данных (сущности)

**ClothingItem (Вещь одежды)**  
Основная единица гардероба с полным описанием.  
Поля:
- `user` (ForeignKey — владелец)
- `name` (название, до 200 символов)
- `image` (ImageField — фотография вещи)
- `description` (TextField — описание, опционально)
- `category` (CharField — категория: верх, низ, обувь, аксессуары и т.д.)
- `color` (CharField — цвет из 12 предопределенных вариантов)
- `season` (CharField — сезоны носки, может содержать несколько значений через запятую)
- `occasion` (CharField — тип мероприятия, может содержать несколько значений через запятую)
- `rating` (IntegerField — личная оценка от 1 до 5 звёзд)
- `price` (DecimalField — стоимость в рублях, опционально)
- `times_shown` (IntegerField — количество показов в генераторе)
- `created_at` (DateTimeField — дата добавления)

**Outfit (Образ)**  
Набор вещей, созданный пользователем.  
Поля:
- `user` (ForeignKey — владелец)
- `name` (CharField — название образа)
- `description` (TextField — описание, опционально)
- `items` (ManyToManyField — вещи в образе)
- `occasion` (CharField — тип мероприятия, может содержать несколько значений через запятую)
- `rating` (IntegerField — оценка образа от 1 до 5 звёзд)
- `created_at` (DateTimeField — дата создания)

**Compatibility (Совместимость вещей)**  
Модель для хранения оценок совместимости между парами вещей.  
Поля:
- `user` (ForeignKey — владелец)
- `item1`, `item2` (ForeignKey — пара вещей, упорядоченная)
- `score` (FloatField — коэффициент совместимости от -1 до +1)
- `times_evaluated` (IntegerField — количество полученных оценок)


## 4. Ключевой функционал 

1. **Регистрация и добавление вещей**: Пользователь регистрируется, загружает фото своих вещей, заполняет их характеристики (категория, цвет, сезон, цена и т.д.).
2. **Ручное создание образов**: Пользователь вручную выбирает вещи из гардероба и создаёт из них образ с названием и оценкой.
3. **Автоматическая генерация образов**: Пользователь выбирает категории (например: "верх + низ + обувь"), система генерирует гармоничный образ на основе алгоритма совместимости.
4. **Обучение системы**: Пользователь оценивает сгенерированный образ (1-5 звёзд), система обновляет совместимости для улучшения будущих рекомендаций.
5. **Аналитика гардероба**: Пользователь просматривает статистику:
   - Распределение по категориям и цветам (графики Plotly)
   - Стоимость гардероба и самых дорогих вещей
   - Коэффициент использования вещей
   - Сезонное распределение
   - Базовые рекомендации по улучшению гардероба


## 5. Внешние интеграции / Аналитика

**Аналитика и обработка данных:**
- библиотека **Pandas** — для агрегации и анализа данных;
- библиотека **Plotly** — для визуализации статистики в виде интерактивных графиков.

Внешние API не используются, анализ выполняется на основе данных из внутренней базы.


## 6. Изменения в ходе реализации

1. **Расширенная финансовая аналитика**: В процессе разработки добавлен блок анализа стоимости гардероба:
   - Суммарная стоимость всех вещей
   - Самые дорогие/дешёвые вещи
   - Распределение бюджета по категориям
   - Процентное соотношение стоимости категорий

2. **Улучшенный алгоритм генерации**: Изначально планировался случайный подбор, но реализована интеллектуальная система с:
   - Учёт совместимости между вещами
   - Балансировка показов редко используемых вещей
   - Приоритизация высокооценённых комбинаций